# defer与闭包

![](../../.gitbook/assets/image%20%2852%29.png)

在上面的例子中是defer与闭包的结合使用，且在闭包中修改了a的值，所以需要将a在堆上进行分配，funcval会把a的地址放入捕获列表中，A的局部变量也保存的是a的地址。

在函数执行时会先输出a和b的值，对应为3，2。然后执行defer函数，将a的值修改为5，对应输出5，2。

